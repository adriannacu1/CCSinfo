<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics - CCS Info System</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <!-- Include your existing admin CSS styles here -->
</head>

<body>
    <div class="admin-container">
        <!-- Include your sidebar navigation here (copy from other admin templates) -->
        <div class="admin-sidebar" id="adminSidebar">
            <!-- Navigation content similar to your other admin templates -->
            <div class="admin-profile">
                <div class="admin-avatar">
                    <i class="fas fa-user-shield"></i>
                </div>
                <div class="admin-info">
                    <h4>{{ admin_profile.full_name or 'Administrator' }}</h4>
                    <p class="admin-role">{{ admin_profile.role|title or 'Admin' }}</p>
                </div>
            </div>

            <nav class="admin-nav">
                <div class="nav-section">
                    <div class="nav-section-title">MAIN</div>
                    <ul class="nav-menu">
                        <li class="nav-item">
                            <a href="{{ url_for('admin_dashboard') }}" class="nav-link">
                                <i class="fas fa-chart-line"></i>
                                <span>Dashboard</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="{{ url_for('admin_analytics') }}" class="nav-link active">
                                <i class="fas fa-chart-bar"></i>
                                <span>Analytics</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Add your other navigation sections here -->
            </nav>
        </div>

        <!-- Main Content -->
        <div class="admin-main">
            <div class="admin-header">
                <h1 class="page-title">
                    <i class="fas fa-chart-bar me-2"></i>
                    Analytics & Reports
                </h1>
            </div>

            <!-- Analytics Content -->
            <div class="analytics-section">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-user-graduate"></i>
                        </div>
                        <div class="stat-content">
                            <h3>{{ analytics.total_students }}</h3>
                            <p>Total Students</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chalkboard-teacher"></i>
                        </div>
                        <div class="stat-content">
                            <h3>{{ analytics.total_faculty }}</h3>
                            <p>Total Faculty</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="stat-content">
                            <h3>{{ analytics.total_events }}</h3>
                            <p>Total Events</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-door-open"></i>
                        </div>
                        <div class="stat-content">
                            <h3>{{ analytics.total_rooms }}</h3>
                            <p>Total Rooms</p>
                        </div>
                    </div>
                </div>

                <!-- Event Statistics -->
                <div class="analytics-charts">
                    <div class="chart-container">
                        <h3>Event Statistics</h3>
                        <div class="event-stats">
                            {% for status, count in analytics.event_stats.items() %}
                            <div class="stat-item">
                                <span class="status-label">{{ status|title }}</span>
                                <span class="status-count">{{ count }}</span>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <!-- Recent Activities -->
                <div class="recent-activities">
                    <h3>Recent Activities</h3>
                    <div class="activity-list">
                        {% for activity in analytics.recent_activities %}
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-calendar"></i>
                            </div>
                            <div class="activity-content">
                                <strong>{{ activity.title }}</strong>
                                <small>{{ activity.date.strftime('%Y-%m-%d %H:%M') if activity.date else 'N/A'
                                    }}</small>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add your existing admin styles and scripts here -->
</body>

</html>